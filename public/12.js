webpackJsonp([12],{103:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{orders:[]}},created:function(){this.$nextTick(function(){this.initDataTable(this._orders)}),this.refreshOrders()},methods:{getOrders:function(t){var e=[];for(var r in this.orders)this.orders[r].order_status!=t&&"all"!=t||e.push(this.orders[r]);return e},refreshOrders:function(){var t=this;util.notify("Refreshing orders","loading"),axios.get(data.getBaseURL()+"api/v1/order").then(function(e){$.notifyClose(),t.orders=e.data}).catch(function(t){util.log(t),util.notify("An error occured","error")})},initDataTable:function(t){var e=this.transformData(t);$("#order-table").DataTable({destroy:!0,aaData:e,paging:!0,ordering:!1,searching:!1,info:!1,autoWidth:!1}),this.addListener()},transformData:function(t){var e=[];for(var r in t){var s=[];s.push(t[r].customer_name),s.push(util.toCurrency(t[r].order_price)),s.push(this.getStatus(t[r].order_status)),s.push(util.toDate(t[r].created_at.date)),s.push('<button class="btn btn-info details" id="'+t[r].id+'">\t\t\t\t\t\t\tview details \t\t\t\t\t\t\t<sup><span class="badge">'+t[r].order_item+"</span></sup>\t\t\t\t\t\t  </button>"),e.push(s)}return e},addListener:function(){var t=this;$("#order-table_next").click(function(){t.addListener()}),$(".details").click(function(){var e=$(this).attr("id");t.$router.push("/order/"+t.type+"/details/"+e)})},getStatus:function(t){switch(t){case"complete":return'<span class="label label-success">'+t+"d</span>";case"cancel":return'<span class="label label-danger">'+t+"led</span>";default:return'<span class="label label-info">'+t+"</span>"}},toDate:function(t){return new Date(t).toDateString()}},watch:{_orders:function(t){this.initDataTable(t)}},computed:{_orders:function(){return this.getOrders(this.type)},type:function(){return this.$route.params.type},title:function(){switch(this.type){case"new":return"New orders";case"complete":return"Completed orders";case"cancel":return"Cancelled orders";default:return"All orders"}}}}},104:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"panel panel-default"},[e("div",{staticClass:"panel-body"},[e("h4",[this._v(this._s(this.title))]),this._v(" "),this._m(0)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"table-responsive"},[r("table",{staticClass:"table table-hover",attrs:{id:"order-table"}},[r("thead",[r("tr",[r("th",[t._v("Customer Name")]),t._v(" "),r("th",[t._v("Price")]),t._v(" "),r("th",[t._v("Status")]),t._v(" "),r("th",[t._v("Date")]),t._v(" "),r("th")])]),t._v(" "),r("tbody")])])}]}},57:function(t,e,r){var s=r(0)(r(103),r(104),!1,null,null,null);t.exports=s.exports}});