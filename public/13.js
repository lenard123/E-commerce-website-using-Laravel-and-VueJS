webpackJsonp([13],{105:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{order_detail:{order_firstname:"",order_lastname:""}}},created:function(){this.refreshOrder()},methods:{refreshOrder:function(){var t=this;util.notify("Getting details, please wait","loading"),axios.get(data.getBaseURL()+"api/v1/order/"+this.order_id).then(function(e){$.notifyClose(),t.order_detail=e.data}).catch(function(t){util.notify("An error occured","error")})},getItem:function(t){return t.order_item_quantity+"  x  "+t.product.product_name},toCurrency:function(t){return util.toCurrency(t.order_item_quantity*t.product.product_price)},cancelOrder:function(){var t=this;util.hideModal("#cancelModal"),util.notify("Cancelling your order, please wait...","loading"),axios.get(data.getBaseURL()+"api/v1/order/cancel/"+this.order_id).then(function(e){e.data.status&&"success"==e.data.status?(util.notify("Order cancelled"),t.$router.push("/order/"+t.type)):util.notify("An error occured","error")}).catch(function(t){util.notify("An error occured","error")})},completeOrder:function(){var t=this;util.hideModal("#completeModal"),util.notify("Loading please wait...","loading"),axios.get(data.getBaseURL()+"api/v1/order/complete/"+this.order_id).then(function(e){e.data.status&&"success"==e.data.status?(util.notify("Order completed","success"),t.$router.push("/order/"+t.type)):util.notify("An error occured","error")}).catch(function(t){util.notify("An error occured","error")})}},computed:{fullname:function(){return this.order_detail.order_firstname+" "+this.order_detail.order_lastname},items:function(){var t=[];return this.order_detail.order_item&&(t=this.order_detail.order_item),t},totalPrice:function(){var t=0;for(var e in this.items)t+=this.items[e].order_item_quantity*parseFloat(this.items[e].product.product_price);return util.toCurrency(t)},type:function(){return this.$route.params.type},order_id:function(){return this.$route.params.order_id}},components:{info:{props:["_key","value"],template:"<tr>\t\t\t\t\t\t<td>\t\t\t\t\t\t\t<h5><b>{{ _key }}&nbsp;&nbsp;</b></h5>\t\t\t\t\t\t</td>\t\t\t\t\t\t<td>\t\t\t\t\t\t\t<h5>{{ value }}</h5>\t\t\t\t\t\t</td>\t\t\t\t\t   </tr>"}}}},106:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"form-group"},[r("router-link",{staticClass:"btn btn-default white",attrs:{to:"/order/"+t.type}},[t._v("< Go Back")]),t._v(" "),"new"==t.order_detail.order_status?r("button",{staticClass:"btn btn-danger",attrs:{onclick:"util.showModal('#cancelModal')"}},[r("i",{staticClass:"fa fa-trash"}),t._v(" Cancel Order\n\t\t")]):t._e(),t._v(" "),"new"==t.order_detail.order_status?r("button",{staticClass:"btn btn-success",attrs:{onclick:"util.showModal('#completeModal')"}},[r("i",{staticClass:"fa fa-check"}),t._v(" Complete Order\n\t\t")]):t._e()],1),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-6"},[r("div",{staticClass:"panel panel-default"},[r("div",{staticClass:"panel-body"},[t._m(0),t._v(" "),r("table",[r("info",{attrs:{_key:"Name",value:t.fullname}}),t._v(" "),r("info",{attrs:{_key:"Address1",value:t.order_detail.order_address1}}),t._v(" "),r("info",{attrs:{_key:"Address2",value:t.order_detail.order_address2}}),t._v(" "),r("info",{attrs:{_key:"Phone",value:t.order_detail.order_phone}}),t._v(" "),r("info",{attrs:{_key:"City",value:t.order_detail.order_city}}),t._v(" "),r("info",{attrs:{_key:"State",value:t.order_detail.order_state}}),t._v(" "),r("info",{attrs:{_key:"Postal Code",value:t.order_detail.order_postalcode}})],1)])])]),t._v(" "),r("div",{staticClass:"col-md-6"},[r("div",{staticClass:"panel panel-default"},[r("div",{staticClass:"panel-body"},[t._m(1),t._v(" "),r("div",{staticClass:"table-responsive"},[r("table",{staticClass:"table table-hover"},[t._l(t.items,function(e){return r("tr",[r("td",[r("h5",[t._v(t._s(t.getItem(e)))])]),t._v(" "),r("td",[r("h5",{staticClass:"pull-right"},[t._v(t._s(t.toCurrency(e)))])])])}),t._v(" "),r("tr",[t._m(2),t._v(" "),r("td",[r("h5",{staticClass:"pull-right"},[r("b",[t._v(t._s(t.totalPrice))])])])])],2)])])])])]),t._v(" "),r("modal",{attrs:{id:"cancelModal"}},[r("modal-header",[r("h4",[t._v("Cancel Order")])]),t._v(" "),r("modal-body",[r("h1",[t._v("Are you sure to cancel this order?")])]),t._v(" "),r("modal-footer",[r("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.cancelOrder()}}},[t._v("Cancel order")]),t._v(" "),r("button",{staticClass:"btn btn-default",attrs:{onclick:"util.hideModal('#cancelModal')"}},[t._v("Back")])])],1),t._v(" "),r("modal",{attrs:{id:"completeModal"}},[r("modal-header",[r("h4",[t._v("Complete Order")])]),t._v(" "),r("modal-body",[r("h1",[t._v("Are you sure that this order is complete?")])]),t._v(" "),r("modal-footer",[r("button",{staticClass:"btn btn-success",on:{click:function(e){return t.completeOrder()}}},[t._v("Complete order")]),t._v(" "),r("button",{staticClass:"btn btn-default",attrs:{onclick:"util.hideModal('#completeModal')"}},[t._v("Back")])])],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h4",[e("b",[this._v("Customer Details")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",[e("b",[this._v("Order Details")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("h5",[e("b",[this._v("Total")])])])}]}},58:function(t,e,r){var a=r(0)(r(105),r(106),!1,null,null,null);t.exports=a.exports}});